# Урок 2 – Отрисовка уровня. Стены.
Для хранения данных об уровне, будем использовать еще один файл.
Для удобства разместим его в отдельную папку `data`

- Создаем папку `/data`
- Создаем файл `/data/level.json`

Настройки уровня разместим в виде словаря.
План-схему уровня возьмем 16 на 9 тайлов.

Записываем в файл `/data/level.json` следующий код:

    {
      'obstacles': [
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1],
        [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1]
      ]
    }

Здесь у нас приведена разметка препятствий (стен) в виде двумерного массива 16х9

Дальше в классе `Controller` мы подгружаем уровень с файла и записываем в память
Редактируем `class_controller.py`

        def __init__(self):

            ...

            # читаем файл уровня
            with open("data/level.json") as file:
                self.level = json.load(file)
            
            self.gui = Gui(self)

В файле `class_gui` редактируем функцию `update`

        def update(self):
            self.screen.blit(self.background, (0, 0))
            
            # Отрисовка стен
            # пробегаемся по двумерному массиву по строкам и столбцам
            # Пробегаемся по всем строкам - что соответствует длине внешнего массива
            for y in range(len(self.controller.level['obstacles'])):
                # Пробегаемся по всем столбцами - что соответствует длине внутреннего массива
                for x in range(len(self.controller.level['obstacles'][y])):
                    
                    # Высчитываем координаты для каждой ячейки по координатам х и у, с учетом размеров тайла
                    coord_x = x * self.controller.tile
                    coord_y = y * self.controller.tile
    
                    # Если на план-карте уровня по конкретному ряду и столбцу стоит единица (1), значит там препятствие (стена)
                    if self.controller.level['obstacles'][y][x] == 1:
                        # Создаем поверхность по размерам тайла и синего цвета
                        tile = pygame.Surface((self.controller.tile, self.controller.tile))
                        tile.fill(pygame.Color("#6262FF"))
                        # и размещаем тайл на экране по расчитанным координатам х и у
                        self.screen.blit(tile, (coord_x, coord_y))
            ...

В результате у нас отобразится белое окно с синей рамкой вокруг.

---

### Работа над ошибками

В файле `/data/level.json` приведена ошибка: все ключи словарей формата json пишутся в двойных кавычках.
Правильно писать `"obstacles": [ ... ]`
